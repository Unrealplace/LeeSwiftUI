<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">

    <title>Swift3.0 闭包整理 - CocoaChina_让移动开发更简单</title>
    <meta name="keywords" content="闭包iPhone开发,iOS开发,iPad开发,Mac开发,苹果开发中文站,iPhone开发中文站,CocoaChina首页, Mac OS开发, Cocoa介绍,移动互联网,触控科技,Cocoa,Apple,developer,iOS,iPhone,iPad,iMac,iPod Touch,iPhone5,iPhone4S,iPad3,招聘,iPhone程序员,Objective-c,iPhone应用外包,ios6,ios面试,Cocos2d-x,cocos2d,iTunes,App Store,苹果开发">
    <meta name="description" content="CocoaChina前身是全球成立最早规模最大的苹果开发中文站，现致力为所有移动开发者提供资讯服务、问答服务、代码下载、工具库及人才招聘服务">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-tc-cerfication" content="3300a939a1098c27e94457b75a0bb8c1">
    <script type="text/javascript" async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/ga.js"></script><script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/hm.js"></script><script type="text/javascript" async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/ga.js"></script><script async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/analytics.js"></script><script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/ca-pub-1180518835303646.js"></script><script type="text/javascript">
        function gotoMobilePage() {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var agent_iphone = /iphone/i;
            var agent_android = /android/i;
            //var agent_ipad = /ipad/i;
            var agent_ipod = /ipod/i;
            var agent_wphone = /windows phone/i;
            if(agent_iphone.test(sUserAgent) || agent_android.test(sUserAgent) || agent_ipod.test(sUserAgent) || agent_wphone.test(sUserAgent)){
                var re = /\/\w+\/\d+\/(\d+)\.html/, 
                    result = re.exec(window.location.pathname);
                if ( result )
                {
                    window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=" + result[1];
                } else {
                    window.location.href = "http://m.cocoachina.com/";
                }
            }
        }
        gotoMobilePage(); 
    </script>
    <link rel="stylesheet" href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/global.css" media="all">
    <link rel="stylesheet" href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/index.css" media="all">
    <link href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/module.css" rel="stylesheet">
    <link href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/style.css" rel="stylesheet">
    <link href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/navheader.css" rel="stylesheet">
    <script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/navbar.js"></script>
    <script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/k.dms"></script>
    
<script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/share.js"></script><script type="text/javascript" async="" id="ac_js86_$7901010485" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/r.js"></script><link rel="stylesheet" href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/share_style1_32.css"></head>
<body><iframe style="width: 0px; height: 0px; display: none;" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/acookie.html"></iframe><iframe style="width: 0px; height: 0px; display: none;" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/acookie_002.html"></iframe>

    <div class="nav-header">
            <div class="nav-header-top">
                <div class="nav-logo nav-fl"><a href="http://www.cocoachina.com/"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/logo.png"></a></div>
                <div class="nav-list nav-fl">
                    <ul>
                        <li><a href="http://www.cocoachina.com/news/">资讯</a></li>
                        <li><a href="http://www.cocoachina.com/bbs/">论坛</a></li>
                        <li><a target="_blank" href="http://code.cocoachina.com/" title="CODE">代码</a></li>
                        <li><a href="http://tools.cocoachina.com/" title="工具" target="_blank">工具</a></li>
                        <li><a target="_blank" href="http://job.cocoachina.com/" title="JOB">招聘</a></li>
                        <li><a target="_blank" href="http://cvp.cocos.com/" title="CVP">CVP</a></li>
                        <li><a target="_blank" href="http://waikuai.cocoachina.com/" title="waikuai">外快</a></li>
                        <li><a target="_blank" href="http://blog.cocoachina.com/" title="blog">博客</a><span class="new-item-flag">new</span></li>
                    </ul>
                </div>
                <div class="nav-search nav-fl">
                    <div class="nav-search-flag" style="display:block"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/search-icon.png"></div>
                    <div class="nav-search-form" style="display:none">
                        <form action="/cms/plus/search.php" name="formsearch" method="post" target="_blank">
                            <input name="kwtype" value="0" type="hidden">
                            <input name="searchtype" value="titlekeyword" type="hidden">
                            <input name="keyword" placeholder="站内搜索" type="text">
                            <input type="button">
                        </form>
                    </div>
                </div>
                <div class="nav-user nav-fr">
                    <!-- #region 未登录时显示此区域 -->
                    <div class="nav-user-login" style="display:block">
                        <a href="http://www.cocoachina.com/bbs/login.php">登录</a>|
                        <a href="http://www.cocoachina.com/bbs/register.php">注册</a>
                    </div>
                    <!-- #endregion -->
                    <!-- #region 已登录时显示此区域 -->
                    <div class="nav-user-name" style="display:none">
                        <div><alert></alert><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/user.png">Guest</div>
                        <ul style="display: block;">
                            <li><a href="#"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/i-man.png">我的主页</a></li>
                            <li><alert></alert><a href="#"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/i-mail.png">我的消息</a></li>
                            <li><a href="#"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/i-setting.png">账户设置</a></li>
                            <li><a href="http://www.cocoachina.com/ios/20161201/index-offline.html"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/i-logout.png">退出</a></li>
                        </ul>
                    </div>
                    <!-- #endregion -->
                </div>
                <div class="nav-clear"></div>
            </div>
        <div class="nav-header-bottom">
            <ul>
                <li><a id="ios" href="http://www.cocoachina.com/ios/" title="ios" class="light">iOS开发</a></li>
                <li><a id="swift" href="http://www.cocoachina.com/swift/" title="swift">Swift</a></li>
                <li><a id="app_store" href="http://www.cocoachina.com/appstore/" title="appstore">App Store研究</a></li>
                <li><a id="design" href="http://www.cocoachina.com/design/" title="design">产品设计</a></li>
                <li><a id="review" href="http://www.cocoachina.com/review/" title="review">应用</a></li>
                <li><a id="review" href="http://www.cocoachina.com/vr/" title="review">VR</a></li>
                <li><a id="game" href="http://www.cocoachina.com/game/" title="game">游戏开发</a></li>
                <li><a id="apple" href="http://www.cocoachina.com/apple/" title="apple">苹果相关</a></li>
                <!-- <li><a id="cocos" href="/cocos/" title="cocos">Cocos引擎</a></li>-->
                <!--<li><a id="webapp" href="/webapp/" title="HTML5">HTML5</a></li>-->
                <li><a id="android" href="http://www.cocoachina.com/android/" title="android">安卓相关</a></li>
                <li><a id="market" href="http://www.cocoachina.com/market/" title="market">营销推广</a></li>
                <li><a id="industry" href="http://www.cocoachina.com/industry/" title="industry">业界动态</a></li>
                <li><a id="programmer" href="http://www.cocoachina.com/programmer/" title="programmer">程序人生</a></li>
            </ul>
        </div>
    </div>

<script language="javascript">
    function IsPC() {
        var userAgentInfo = navigator.userAgent;
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPod");
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }
        }
        return flag;
    }
    if (!IsPC()){
           window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=18250";
    }

</script>
<!--middle-->
<div class="middle clearfix">
    <div class="m-wrap">
        <div class="m-ad2" style="margin-top:12px;">
            <div class="ad2-l">
                <script async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/adsbygoogle.js"></script>
                <!-- CC首页底部左侧72890 -->
                <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="8012423965" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" height="90" frameborder="0" width="728"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div class="ad2-r">
                <script async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/adsbygoogle.js"></script>
                <!-- CC资讯页25090 -->
                <ins class="adsbygoogle" style="display:inline-block;width:250px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="9489157162" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:250px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:250px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" height="90" frameborder="0" width="250"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--left-->
        <div class="detail-left float-l">
            <p class="crumbs"><a href="http://www.cocoachina.com/" title="首页">首页</a> &gt;<a href="http://www.cocoachina.com/ios" title="iOS开发"><span id="type_name">iOS开发</span></a></p>
            <div class="detail-main">
                <h2>Swift3.0 闭包整理</h2>
                <div class="p-ico clearfix">
                    <div>
                        <span class="ml0">2016-12-01 09:55</span>
                        <span>编辑：
                        <a href="" id="field_author" target="_blank">耐旱的仙人掌</a></span>
                        <span>分类：<a href="http://www.cocoachina.com/ios/" target="_blank">iOS开发</a></span>
                        <span id="source">来源：<a href="http://www.jianshu.com/p/c0e43b13cc7a" target="_blank">bluajack的简书</a></span>

                        <div class="float-r">
                            <span id="artical_comment_cnt"><i></i>1</span>
                            <span><i class="view"></i><script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/count_002.html" language="javascript"></script>1484</span>
                    </div>
                    </div>
                </div>
                <div class="p-ico clearfix">
                    <p class="related float-l"><a href="http://www.cocoachina.com/cms/tags.php?/%E9%97%AD%E5%8C%85/" target="_blank">闭包</a></p>
                    <input id="article_id" value="18250" type="hidden">
                </div>
                <div class="adsbox clearfix">
                    <div class="float-l">
                        <div class="float-l"><b>招聘信息：</b></div>
                        <ul class="float-l" id="invitelist" style="margin-top: 0px;"><li><a href="http://job.cocoachina.com/job/show?id=68346" target="_blank">iOS维护</a></li><li><a href="http://job.cocoachina.com/job/show?id=68066" target="_blank">应用开发工程师(iOS)</a></li><li><a href="http://job.cocoachina.com/job/show?id=68363" target="_blank">技术合伙人-后端工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67931" target="_blank">高级iOS开发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=68061" target="_blank">资深软件研发工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=67960" target="_blank">嵌入式软件工程师</a></li><li><a href="http://job.cocoachina.com/job/show?id=68283" target="_blank">Mac开发</a></li><li><a href="http://job.cocoachina.com/job/show?id=68270" target="_blank">Unity3D手游客户端主程</a></li><li><a href="http://job.cocoachina.com/job/show?id=68288" target="_blank">iOS Developer</a></li><li><a href="http://job.cocoachina.com/job/show?id=68348" target="_blank">微信书城开发</a></li><li><a href="http://job.cocoachina.com/job/show?id=68347" target="_blank">数字图书商城开发</a></li></ul>
                    </div>
                    <div class="float-r">
                        <a href="javascript:void(0)" class="prev"></a>
                        <a href="javascript:void(0)" class="next"></a>
                    </div>
                </div>
                <div id="detailbody" class="field_body">
                    <h2>语法表达式</h2><div><div id="highlighter_93294" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">一般形式：{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">(parameters)&nbsp;-&gt;&nbsp;returnType&nbsp;</code><code class="js keyword">in</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">statements</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><ul class=" list-paddingleft-2"><li><p>这里的参数(parameters)，可以是in-out(输入输出参数)，但不能设定默认值。如果是可变参数，必须放在最后一位，不然编译器报错。元组也可以作为参数或者返回值。</p></li><li><p>"in"关键字表示闭包的参数和返回值类型定义已经完成，闭包函数体即将开始。即由in引入函数</p></li><li><p>例子</p></li></ul><div><div id="highlighter_127972" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js comments">//一般形式</code></div><div class="line number2 index1 alt1"><code class="js plain">let&nbsp;calAdd:(Int,Int)-&gt;(Int)&nbsp;=&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">(a:Int,b:Int)&nbsp;-&gt;&nbsp;Int&nbsp;</code><code class="js keyword">in</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">a&nbsp;+&nbsp;b</code></div><div class="line number5 index4 alt2"><code class="js plain">}</code></div><div class="line number6 index5 alt1"><code class="js plain">print(calAdd(100,150))</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="js comments">//Swift可以根据闭包上下文推断参数和返回值的类型，所以上面的例子可以简化如下</code></div><div class="line number9 index8 alt2"><code class="js plain">let&nbsp;calAdd2:(Int,Int)-&gt;(Int)&nbsp;=&nbsp;{</code></div><div class="line number10 index9 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">a,b&nbsp;</code><code class="js keyword">in</code>&nbsp;&nbsp;<code class="js comments">//也可以写成(a,b)&nbsp;in</code></div><div class="line number11 index10 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">a&nbsp;+&nbsp;b</code></div><div class="line number12 index11 alt1"><code class="js plain">}</code></div><div class="line number13 index12 alt2"><code class="js plain">print(calAdd2(150,100))</code></div><div class="line number14 index13 alt1"><code class="js comments">//上面省略了返回箭头和参数及返回值类型，以及参数周围的括号。当然你也可以加括号，为了好看点，看的清楚点。(a,b)</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="js comments">//单行表达式闭包可以隐式返回，如下，省略return</code></div><div class="line number17 index16 alt2"><code class="js plain">let&nbsp;calAdd3:(Int,Int)-&gt;(Int)&nbsp;=&nbsp;{(a,b)&nbsp;</code><code class="js keyword">in</code>&nbsp;<code class="js plain">a&nbsp;+&nbsp;b}</code></div><div class="line number18 index17 alt1"><code class="js plain">print(calAdd3(50,200))</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="js comments">//如果闭包没有参数，可以直接省略“in”</code></div><div class="line number21 index20 alt2"><code class="js plain">let&nbsp;calAdd4:()-&gt;Int&nbsp;=&nbsp;{</code><code class="js keyword">return</code>&nbsp;<code class="js plain">100&nbsp;+&nbsp;150}</code></div><div class="line number22 index21 alt1"><code class="js plain">print(</code><code class="js string">"....\(calAdd4())"</code><code class="js plain">)</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="js comments">//这个写法，我随便写的。打印出“我是250”</code></div><div class="line number25 index24 alt2"><code class="js comments">//这个是既没有参数也没返回值，所以把return和in都省略了</code></div><div class="line number26 index25 alt1"><code class="js plain">let&nbsp;calAdd5:()-&gt;Void&nbsp;=&nbsp;{print(</code><code class="js string">"我是250"</code><code class="js plain">)}</code></div><div class="line number27 index26 alt2"><code class="js plain">calAdd5()</code></div></div></td></tr></tbody></table></div></div><ul class=" list-paddingleft-2"><li><p>归纳<br>闭包类型是由参数类型和返回值类型决定，和函数是一样的。比如上面前三种写法的闭包的闭包类型就是<code>(Int,Int)-&gt;(Int)</code>,后面的类型分别是<code>()-&gt;Int</code>和<code>()-&gt;Void</code>。分析下上面的代码：<code>let calAdd：(add类型)</code>。这里的add类型就是闭包类型 <code>(Int,Int)-&gt;(Int)</code>。意思就是声明一个calAdd常量，其类型是个闭包类型。</p><p>"="右边是一个代码块，即闭包的具体实现，相当于给左边的add常量赋值。兄弟们，是不是感觉很熟悉了，有点像OC中的block代码块。</p></li></ul><h2>起别名</h2><ul class=" list-paddingleft-2"><li><p>也可以关键字“typealias”先声明一个闭包数据类型。类似于OC中的typedef起别名</p></li></ul><div><div id="highlighter_673369" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">typealias&nbsp;AddBlock&nbsp;=&nbsp;(Int,&nbsp;Int)&nbsp;-&gt;&nbsp;(Int)</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="js plain">let&nbsp;Add:AddBlock&nbsp;=&nbsp;{</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">(c,d)&nbsp;</code><code class="js keyword">in</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">c&nbsp;+&nbsp;d</code></div><div class="line number6 index5 alt1"><code class="js plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="js plain">let&nbsp;Result&nbsp;=&nbsp;Add(100,150)</code></div><div class="line number9 index8 alt2"><code class="js plain">print(</code><code class="js string">"Result&nbsp;=&nbsp;\(Result)"</code><code class="js plain">)</code></div></div></td></tr></tbody></table></div></div><h2>尾随闭包</h2><ul class=" list-paddingleft-2"><li><p>若将闭包作为函数最后一个参数，可以省略参数标签,然后将闭包表达式写在函数调用括号后面</p></li></ul><div><div id="highlighter_673174" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">func&nbsp;testFunction(testBlock:&nbsp;()-&gt;Void){</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js comments">//这里需要传进来的闭包类型是无参数和无返回值的</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">testBlock()</code></div><div class="line number4 index3 alt1"><code class="js plain">}</code></div><div class="line number5 index4 alt2"><code class="js comments">//正常写法</code></div><div class="line number6 index5 alt1"><code class="js plain">testFunction(testBlock:&nbsp;{</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">print(</code><code class="js string">"正常写法"</code><code class="js plain">)</code></div><div class="line number8 index7 alt1"><code class="js plain">})</code></div><div class="line number9 index8 alt2"><code class="js comments">//尾随闭包写法</code></div><div class="line number10 index9 alt1"><code class="js plain">testFunction(){</code></div><div class="line number11 index10 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">print(</code><code class="js string">"尾随闭包写法"</code><code class="js plain">)</code></div><div class="line number12 index11 alt1"><code class="js plain">}</code></div><div class="line number13 index12 alt2"><code class="js comments">//也可以把括号去掉，也是尾随闭包写法。推荐写法</code></div><div class="line number14 index13 alt1"><code class="js plain">testFunction&nbsp;{&nbsp;</code></div><div class="line number15 index14 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">print(</code><code class="js string">"去掉括号的尾随闭包写法"</code><code class="js plain">)</code></div><div class="line number16 index15 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><h2>值捕获</h2><ul class=" list-paddingleft-2"><li><p>闭包可以在其被定义的上下文中捕获常量或变量。Swift中，可以捕获值的闭包的最简单形式是嵌套函数，也就是定义在其他函数的函数体内的函数。</p></li></ul><div><div id="highlighter_709179" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">func&nbsp;captureValue(sums&nbsp;amount:Int)&nbsp;-&gt;&nbsp;()-&gt;Int{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">total&nbsp;=&nbsp;0</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">func&nbsp;incrementer()-&gt;Int{</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">total&nbsp;+=&nbsp;amount</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">total</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">incrementer</code></div><div class="line number8 index7 alt1"><code class="js plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="js plain">print(captureValue(sums:&nbsp;10)())</code></div><div class="line number11 index10 alt2"><code class="js plain">print(captureValue(sums:&nbsp;10)())</code></div><div class="line number12 index11 alt1"><code class="js plain">print(captureValue(sums:&nbsp;10)())</code></div><div class="line number13 index12 alt2"><code class="js comments">//打印"10&nbsp;10&nbsp;10"</code></div></div></td></tr></tbody></table></div></div><p>这里没有值捕获的原因是，没有去用一个常量或变量去引用函数，所以每次使用的函数都是新的。有点类似于OC中的匿名对象。</p><div><div id="highlighter_596253" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">let&nbsp;referenceFunc&nbsp;=&nbsp;captureValue(sums:&nbsp;10)</code></div><div class="line number2 index1 alt1"><code class="js plain">print(referenceFunc())</code></div><div class="line number3 index2 alt2"><code class="js plain">print(referenceFunc())</code></div><div class="line number4 index3 alt1"><code class="js plain">print(referenceFunc())</code></div><div class="line number5 index4 alt2"><code class="js comments">//打印"10&nbsp;20&nbsp;30"</code></div></div></td></tr></tbody></table></div></div><p>这里值捕获了，是因为函数被引用了，所以没有立即释放掉。所以函数体内的值可以被捕获</p><ul class=" list-paddingleft-2"><li><p>闭包形式</p></li></ul><div><div id="highlighter_362421" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">func&nbsp;captureValue2(sums&nbsp;amount:Int)&nbsp;-&gt;&nbsp;()-&gt;Int{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">total&nbsp;=&nbsp;0</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">let&nbsp;AddBlock:()-&gt;Int&nbsp;=&nbsp;{</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">total&nbsp;+=&nbsp;amount</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">total</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js plain">AddBlock</code></div><div class="line number8 index7 alt1"><code class="js plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="js plain">let&nbsp;testBlock&nbsp;=&nbsp;captureValue2(sums:&nbsp;100)</code></div><div class="line number11 index10 alt2"><code class="js plain">print(testBlock())</code></div><div class="line number12 index11 alt1"><code class="js plain">print(testBlock())</code></div><div class="line number13 index12 alt2"><code class="js plain">print(testBlock())</code></div></div></td></tr></tbody></table></div></div><p>由上面的例子都可以证得，函数和闭包都是引用类型。</p><h2>逃逸闭包</h2><ul class=" list-paddingleft-2"><li><p>当一个闭包作为参数传到一个函数中，需要这个闭包在函数返回之后才被执行，我们就称该闭包从函数种逃逸。一般如果闭包在函数体内涉及到异步操作，但函数却是很快就会执行完毕并返回的，闭包必须要逃逸掉，以便异步操作的回调。</p></li><li><p>逃逸闭包一般用于异步函数的回调，比如网络请求成功的回调和失败的回调。语法：在函数的闭包行参前加关键字“@escaping”。</p></li></ul><div><div id="highlighter_881524" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js comments">//例1</code></div><div class="line number2 index1 alt1"><code class="js plain">func&nbsp;doSomething(some:&nbsp;@escaping&nbsp;()&nbsp;-&gt;&nbsp;Void){</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js comments">//延时操作，注意这里的单位是秒</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">DispatchQueue.main.asyncAfter(deadline:&nbsp;DispatchTime.now()&nbsp;+&nbsp;1)&nbsp;{</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js comments">//1秒后操作</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">some()</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number8 index7 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">print(</code><code class="js string">"函数体"</code><code class="js plain">)</code></div><div class="line number9 index8 alt2"><code class="js plain">}</code></div><div class="line number10 index9 alt1"><code class="js plain">doSomething&nbsp;{</code></div><div class="line number11 index10 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">print(</code><code class="js string">"逃逸闭包"</code><code class="js plain">)</code></div><div class="line number12 index11 alt1"><code class="js plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="js comments">//例2</code></div><div class="line number15 index14 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">comletionHandle:&nbsp;()-&gt;String&nbsp;=&nbsp;{</code><code class="js string">"约吗?"</code><code class="js plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="js plain">func&nbsp;doSomething2(some:&nbsp;@escaping&nbsp;()-&gt;String){</code></div><div class="line number18 index17 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">comletionHandle&nbsp;=&nbsp;some</code></div><div class="line number19 index18 alt2"><code class="js plain">}</code></div><div class="line number20 index19 alt1"><code class="js plain">doSomething2&nbsp;{</code></div><div class="line number21 index20 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code>&nbsp;<code class="js string">"叔叔，我们不约"</code></div><div class="line number22 index21 alt1"><code class="js plain">}</code></div><div class="line number23 index22 alt2"><code class="js plain">print(comletionHandle())</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="js comments">//将一个闭包标记为@escaping意味着你必须在闭包中显式的引用self。</code></div><div class="line number26 index25 alt1"><code class="js comments">//其实@escaping和self都是在提醒你，这是一个逃逸闭包，</code></div><div class="line number27 index26 alt2"><code class="js comments">//别误操作导致了循环引用！而非逃逸包可以隐式引用self。</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="js comments">//例子如下</code></div><div class="line number30 index29 alt1"><code class="js keyword">var</code>&nbsp;<code class="js plain">completionHandlers:&nbsp;[()&nbsp;-&gt;&nbsp;Void]&nbsp;=&nbsp;[]</code></div><div class="line number31 index30 alt2"><code class="js comments">//逃逸</code></div><div class="line number32 index31 alt1"><code class="js plain">func&nbsp;someFunctionWithEscapingClosure(completionHandler:&nbsp;@escaping&nbsp;()&nbsp;-&gt;&nbsp;Void)&nbsp;{</code></div><div class="line number33 index32 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">completionHandlers.append(completionHandler)</code></div><div class="line number34 index33 alt1"><code class="js plain">}</code></div><div class="line number35 index34 alt2"><code class="js comments">//非逃逸</code></div><div class="line number36 index35 alt1"><code class="js plain">func&nbsp;someFunctionWithNonescapingClosure(closure:&nbsp;()&nbsp;-&gt;&nbsp;Void)&nbsp;{</code></div><div class="line number37 index36 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">closure()</code></div><div class="line number38 index37 alt1"><code class="js plain">}</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1"><code class="js plain">class&nbsp;SomeClass&nbsp;{</code></div><div class="line number41 index40 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">x&nbsp;=&nbsp;10</code></div><div class="line number42 index41 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">func&nbsp;doSomething()&nbsp;{</code></div><div class="line number43 index42 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">someFunctionWithEscapingClosure&nbsp;{&nbsp;self.x&nbsp;=&nbsp;100&nbsp;}</code></div><div class="line number44 index43 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">someFunctionWithNonescapingClosure&nbsp;{&nbsp;x&nbsp;=&nbsp;200&nbsp;}</code></div><div class="line number45 index44 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number46 index45 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><h2>自动闭包</h2><ul class=" list-paddingleft-2"><li><p>顾名思义，自动闭包是一种自动创建的闭包，封装一堆表达式在自动闭包中，然后将自动闭包作为参数传给函数。而自动闭包是不接受任何参数的，但可以返回自动闭包中表达式产生的值。</p></li><li><p>自动闭包让你能够延迟求值，直到调用这个闭包，闭包代码块才会被执行。说白了，就是语法简洁了，有点懒加载的意思。</p></li></ul><div><div id="highlighter_648498" class="syntaxhighlighter  js"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">array&nbsp;=&nbsp;[</code><code class="js string">"I"</code><code class="js plain">,</code><code class="js string">"have"</code><code class="js plain">,</code><code class="js string">"a"</code><code class="js plain">,</code><code class="js string">"apple"</code><code class="js plain">]</code></div><div class="line number2 index1 alt1"><code class="js plain">print(array.count)</code></div><div class="line number3 index2 alt2"><code class="js comments">//打印出"4"</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="js plain">let&nbsp;removeBlock&nbsp;=&nbsp;{array.remove(at:&nbsp;3)}</code><code class="js comments">//测试了下，这里代码超过一行，返回值失效。</code></div><div class="line number6 index5 alt1"><code class="js plain">print(array.count)</code></div><div class="line number7 index6 alt2"><code class="js comments">//打印出"4"</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="js plain">print(</code><code class="js string">"执行代码块移除\(removeBlock())"</code><code class="js plain">)</code></div><div class="line number10 index9 alt1"><code class="js comments">//打印出"执行代码块移除apple"&nbsp;这里自动闭包返回了apple值</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="js plain">print(array.count)</code></div><div class="line number13 index12 alt2"><code class="js comments">//打印出"3"</code></div></div></td></tr></tbody></table></div></div><p><br></p><p><br></p><br><p><br></p>
                </div>
                <div id="page" style="padding:0"></div>

                <div class="wx_article">
                    <div class="article_weixin">
                        <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/article_weixin.jpg" alt="搜索CocoaChina微信公众号：CocoaChina" height="131" width="131">
                        <div class="article_scan">微信扫一扫</div>
                        <div class="article_txt"><span style="color:#999999">订阅每日移动开发及APP推广热点资讯<br>公众号：</span>CocoaChina</div>
                    </div>
                </div>

               <div class="clearfix tgbox">
                    <a href="http://www.cocoachina.com/deliver.php" class="tg float-l" target="_blank">我要投稿</a>&nbsp;&nbsp;
                    <a style="margin-left:10px" href="javascript:void(0)" onclick="add_favors(18250,'Swift3.0 闭包整理')" class="tg float-l">收藏文章</a>
                    <div class="share float-r">分享到：
                        <div class="bdsharebuttonbox" id="sharediv" data-bd-bind="1487130964254"><a href="#" class="bds_more" data-cmd="more"></a> <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a> <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
                    </div>
                </div>


                <a class="zanbox" href="javascript:void(0)" id="zanbox" onclick="postDigg('good',18250)" title="哎呦，不错噢，赞一个">
                    <strong id="newdigg">
                     <script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/count.html" language="javascript"></script>4
                    </strong>
                </a>
            </div>

            <div class="article-prev">上一篇：<a href="http://www.cocoachina.com/ios/20161201/18249.html">中介者模式</a> </div>
            <div class="article-next">下一篇：<a href="http://www.cocoachina.com/ios/20161201/18254.html">iOS开发实用技巧—Objective-C中的各种遍历（迭代）方式</a> </div>

            <!--相关资讯-->
            <div class="part-wrap clearfix">
                <h3>相关资讯</h3>
                <ul class="info-list clearfix">
                    <li>
                        <a href="http://www.cocoachina.com/ios/20161124/18172.html" target="_blank" title="?Swift 引入的 Optional，很好的解决了 Objective-C 时代 “nil or not nil” 的问题，配合 Type-Safe 特性，帮我们减少了很多隐藏的问题。下面让我们通过源码来了解一下 Optional 具体的实现逻辑。
">Swift Optionals 源码解析</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20161020/17804.html" target="_blank" title="《iOS 10 day by day》是 shinobicontrols 公司编写的系列博客，介绍开发者需要了解的 iOS 10 新特性，每周更新。本系列翻译（文集地址）已取得官方授权。目录点此。仓薯翻译，欢迎指正：）
Shinobicontrols 为">iOS 10 Day by Day 4：用 UIViewPropertyAnimator 编写动画</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20161017/17770.html" target="_blank" title="Xcode8的调试技能又增加了一个黑科技：Memory Graph。简单的说就是可以在运行时将内存中的对象生成一张图。在现场的开发者听到了这个消息时响起了雷鸣般的掌声！我们来看看前方记者发回的现场照片">Xcode8调试黑科技：Memory Graph实战解决闭包引用循环问题</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20160224/15349.html" target="_blank" title="本篇文章精讲iOS开发中使用Block时一定要注意内存管理问题，很容易造成循环引用。本篇文章的目标是帮助大家快速掌握使用block的技巧。

我相信大家都觉得使用block给开发带来了多大的便利，但是有">iOS闭包循环引用精讲</a>
                     </li>
<li>
                        <a href="http://www.cocoachina.com/ios/20130715/6599.html" target="_blank" title="本文由破船译自xs-labs！ 还记得昨天我给大家推荐的文章吗：Closure and anonymous functions in Objective-C。今天手痒，还想继续敲几个字，索性我就把这篇文章敲出来，以此对block说声代码里见吧。htt"> Block剧终：Objective-C中的闭包性和匿名函数</a>
                     </li>

                </ul>
            </div>
            <div class="clearfix" style="margin-top:20px;">
                <script async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/adsbygoogle.js"></script>
                <!-- CC评论框 -->
                <ins class="adsbygoogle" style="display:inline-block;width:750px;height:90px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="8242010366" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:750px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:750px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;" height="90" frameborder="0" width="750"></iframe></ins></ins></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <!-- 评论模块start -->
            
            <div class="clearfix" id="commnet_list_holder" style="margin-bottom:50px;">
                <div class="glab-comment-form">
                    <div class="dcbt">我来说两句</div>
                    <div class="user-head">
                        <img id="user_face_url" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/none.gif" alt="" height="43" width="43">
                    </div>
                    <div class="form-region">
                        <textarea name="comment" id="main_comment_content" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
                        <a class="submitform" id="main_comment_bt">发表评论</a>
                        <div class="unlogin-mask">
                            <div>您还没有登录！请<a href="http://www.cocoachina.com/bbs/login.php">登录</a>或<a href="http://www.cocoachina.com/bbs/register.php">注册</a></div>
                        </div>
                    </div>
                </div>
                <div id="glab-comment-callback-msg" class="glab-comment-info"></div>
                <div class="glab-comment-title">所有评论（<span>1</span>）</div>
                <div class="glab-commentlist" id="commentlist">
                    <a id="refresh_comment_btn" href="javascript:;" onclick="$('#morecomment').trigger('click')" style="display: none;">刷新评论</a>
                
    <div class="glab-comment" rel-data-id="37874" rel-user-id="41404" rel-user-name="wfkbyni" rel-layer="1">
        <div class="comment-left">
            <a href="http://www.cocoachina.com/bbs/u.php?action=feed&amp;uid=41404" target="_blank"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/none.gif" alt="" height="43" width="43"></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="http://www.cocoachina.com/bbs/u.php?action=feed&amp;uid=41404" target="_blank">wfkbyni</a><span class="puptime">2017-01-18 10:50:49</span></div>
            <div class="comment-content">很好啊</div>
            <div class="comment-buttons">
                <span class="ding">                    
                    <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/zan-default.png" alt="" class="default" style="" height="14" width="14">
                    <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/zan-active.png" alt="" class="actived" style=" display:none; " height="14" width="14">
                    <span class="zancnt">0</span>
                </span>
                <span class="cai">
                    <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/cai-default.png" alt="" class="default" style="" height="14" width="14">
                    <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/cai-active.png" alt="" class="actived" style=" display:none; " height="14" width="14">
                    <span class="zancnt">0</span>
                </span>
                <span class="replybt">回复</span>
            </div>
        </div>
    </div>  
</div>
                <div class="glab-comment-more" id="morecomment" style="display:none">
                    更多评论
                </div>
            </div>
            
            <!-- 评论模块end -->


        </div>
        <!--./left-->
        <!--侧边栏-->
        <div class="clearfix newslist">
            <div class="rightSide detail-right float-r">
                <!--两周热门资讯推荐-->
                <div>
                    <div class="part-wrap clearfix">
                        <h3>热门资讯</h3>
                        <ul class="related-hot">
                            <li class="clearfix"><a href="http://www.cocoachina.com/ios/20170208/18647.html" class="float-l pic" target="_blank" title="33 个 2017 年必须了解的 iOS 开源库"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/4372ac3568a8966bf827330e3e6f5b89.jpg" style="max-height:60px" alt="33 个 2017 年必须了解的 iOS 开源库"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170208/18647.html" target="_blank" title="33 个 2017 年必须了解的 iOS 开源库">33 个 2017 年必须了解的 iOS 开源库</a></p><p class="hits">点击量<span>11745</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20170208/18651.html" class="float-l pic" target="_blank" title="今日头条iOS客户端启动速度优化"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/65abfd005ce6a670d051919235f96988.jpg" style="max-height:60px" alt="今日头条iOS客户端启动速度优化"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170208/18651.html" target="_blank" title="今日头条iOS客户端启动速度优化">今日头条iOS客户端启动速度优化</a></p><p class="hits">点击量<span>8385</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20170206/18619.html" class="float-l pic" target="_blank" title="iOS即时通讯进阶 - CocoaAsyncSocket源码解析(Connect篇)"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/afe6ca60490dea9042d012de297ff525.jpg" style="max-height:60px" alt="iOS即时通讯进阶 - CocoaAsyncSocket源码解析(Connect篇)"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170206/18619.html" target="_blank" title="iOS即时通讯进阶 - CocoaAsyncSocket源码解析(Connect篇)">iOS即时通讯进阶 - CocoaAsyncSocket源码解析(Connect篇)</a></p><p class="hits">点击量<span>6284</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20170213/18659.html" class="float-l pic" target="_blank" title="iOS MVVM+RAC 从框架到实战"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/d95f61e51d4bd7e797768499672eac1b.jpg" style="max-height:60px" alt="iOS MVVM+RAC 从框架到实战"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170213/18659.html" target="_blank" title="iOS MVVM+RAC 从框架到实战">iOS MVVM+RAC 从框架到实战</a></p><p class="hits">点击量<span>4283</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/programmer/20170210/18665.html" class="float-l pic" target="_blank" title="TIOBE 2月编程语言排行榜 编程学习类语言获关注"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/0586e04b7815c9ac5fcb23508fcb5092.png" style="max-height:60px" alt="TIOBE 2月编程语言排行榜 编程学习类语言获关注"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/programmer/20170210/18665.html" target="_blank" title="TIOBE 2月编程语言排行榜 编程学习类语言获关注">TIOBE 2月编程语言排行榜 编程学习类语言获关注</a></p><p class="hits">点击量<span>4166</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20170208/18652.html" class="float-l pic" target="_blank" title="AE 动画直接变原生代码：Airbnb 发布开源动画库 Lottie"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/5439612511570d9c89f09f2ff98a2ca5.jpg" style="max-height:60px" alt="AE 动画直接变原生代码：Airbnb 发布开源动画库 Lottie"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170208/18652.html" target="_blank" title="AE 动画直接变原生代码：Airbnb 发布开源动画库 Lottie">AE 动画直接变原生代码：Airbnb 发布开源动画库 Lottie</a></p><p class="hits">点击量<span>3706</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/programmer/20170208/18650.html" class="float-l pic" target="_blank" title="程序员找工作时如何判断招聘公司的好坏？"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/75376e41fd1ed4335d53e9caaf13fe65.jpg" style="max-height:60px" alt="程序员找工作时如何判断招聘公司的好坏？"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/programmer/20170208/18650.html" target="_blank" title="程序员找工作时如何判断招聘公司的好坏？">程序员找工作时如何判断招聘公司的好坏？</a></p><p class="hits">点击量<span>3050</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20170207/18644.html" class="float-l pic" target="_blank" title="[iOS] 图像处理 - 一种高效裁剪图片圆角的算法"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/088f56ca7976dc83953a827110c03bc0.jpg" style="max-height:60px" alt="[iOS] 图像处理 - 一种高效裁剪图片圆角的算法"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170207/18644.html" target="_blank" title="[iOS] 图像处理 - 一种高效裁剪图片圆角的算法">[iOS] 图像处理 - 一种高效裁剪图片圆角的算法</a></p><p class="hits">点击量<span>2734</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/programmer/20170207/18631.html" class="float-l pic" target="_blank" title="一个程序员的健康清单"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/464f3e540b1b8eee91928ab9a94b35eb.jpg" style="max-height:60px" alt="一个程序员的健康清单"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/programmer/20170207/18631.html" target="_blank" title="一个程序员的健康清单">一个程序员的健康清单</a></p><p class="hits">点击量<span>2695</span></p></div></li><li class="clearfix noborder-b"><a href="http://www.cocoachina.com/ios/20170208/18645.html" class="float-l pic" target="_blank" title="解决CocoaPods慢的小技巧"><img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/00ced2c691ffc4195af1414d0cbc1f93.jpg" style="max-height:60px" alt="解决CocoaPods慢的小技巧"></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20170208/18645.html" target="_blank" title="解决CocoaPods慢的小技巧">解决CocoaPods慢的小技巧</a></p><p class="hits">点击量<span>2294</span></p></div></li>
                        </ul>
                    </div>
               </div>
               <!--./两周热门资讯推荐-->
               <!--综合评论-->
                <div class="part-wrap clearfix" style="margin-top: 15px;">
                    <h3>综合评论</h3>
                    <ul class="related-comment clearfix" id="all_comments_holder"><li class=""><span class="hide_comment">mark</span><br><p><span>19971017_木木</span><span>评论了</span><a target="_blank" title="iOS超全开源框架、项目和学习资料汇总--数据库、缓存处理、图像浏览、摄像照相视频音频篇" href="http://www.cocoachina.com/ios/20170215/18692.html"><span>iOS超全开源框架、项目和学习资料汇总--数据库、...</span></a></p></li><li class=""><span class="hide_comment">小编是苹果内部首席设计师！</span><br><p><span>19971017_木木</span><span>评论了</span><a target="_blank" title="iPhone 8去掉Home键或成真 这个黑科技功能最厉害" href="http://www.cocoachina.com/apple/20170215/18697.html"><span>iPhone 8去掉Home键或成真 这个黑科技功...</span></a></p></li><li class=""><span class="hide_comment">作为一个专业喷子，&nbsp;我就来喷几点<br>第一:&nbsp;文字又臭又长，扯了半天都没扯到主题，后面的我就直接没看了<br>第二:&nbsp;底部说mark的，又几个人真的来看了<br>第三:&nbsp;&nbsp;看&nbsp;@SKKK&nbsp;和&nbsp;&nbsp;@arthursj的评论<br>第四:&nbsp;作者的demo&nbsp;的target&nbsp;也是&nbsp;6的飞起<br><br>如果看到不好，请告诉我<br>如果喷的不够，你行你上<br><br>如果想喷我，随意<br></span><br><p><span>gx_219aaaa</span><span>评论了</span><a target="_blank" title="iOS MVVM+RAC 从框架到实战" href="http://www.cocoachina.com/ios/20170213/18659.html"><span>iOS MVVM+RAC 从框架到实战...</span></a></p></li><li class=""><span class="hide_comment">都看了一下，有很多没接触到的。不过有一部分接触到了，有自己的一些体会。<br>1、Realm&nbsp;因为我还在OC上，它本身是个swift库，个人OC感觉装了在测试的时候运行的有点慢，费电！<br>2、Moya&nbsp;自己写的请求helper也不差在哪<br>3、firebase&nbsp;这个挺好的...<br>4、asyncdisplaykit&nbsp;记得去年夏天的时候看了一下，后来忘了，一会看看。<br>5、dznemptydataset&nbsp;之前的版本还有些滑动bug，应该是解决了，总体来说不错，我现在的轮子就是用这个原理重新造的，好像是因为有某个地方的需求不同。<br>6、Charts&nbsp;这个库虽然没用过，但是挺出名的吧~<br>7、Alamofire&nbsp;这个库就是swift里的af<br><br>其他的还有些库也不错比如masonry和blockskit以及yymodel。<br>除了单一功能的库可以适用所有，其他的库的最好还是diy。</span><br><p><span>cocosoeasy</span><span>评论了</span><a target="_blank" title="33 个 2017 年必须了解的 iOS 开源库" href="http://www.cocoachina.com/ios/20170208/18647.html"><span>33 个 2017 年必须了解的 iOS 开源库...</span></a></p></li><li class=""><span class="hide_comment">闹呢</span><br><p><span>阿花君霸占路人</span><span>评论了</span><a target="_blank" title="iPhone 8去掉Home键或成真 这个黑科技功能最厉害" href="http://www.cocoachina.com/apple/20170215/18697.html"><span>iPhone 8去掉Home键或成真 这个黑科技功...</span></a></p></li><li class=""><span class="hide_comment">mark<br></span><br><p><span>阿飞的隐喻</span><span>评论了</span><a target="_blank" title="33 个 2017 年必须了解的 iOS 开源库" href="http://www.cocoachina.com/ios/20170208/18647.html"><span>33 个 2017 年必须了解的 iOS 开源库...</span></a></p></li><li class=""><span class="hide_comment">mark<br></span><br><p><span>阿飞的隐喻</span><span>评论了</span><a target="_blank" title="33 个 2017 年必须了解的 iOS 开源库" href="http://www.cocoachina.com/ios/20170208/18647.html"><span>33 个 2017 年必须了解的 iOS 开源库...</span></a></p></li><li class=""><span class="hide_comment">mark&nbsp;下</span><br><p><span>颖逸流枫</span><span>评论了</span><a target="_blank" title="iOS MVVM+RAC 从框架到实战" href="http://www.cocoachina.com/ios/20170213/18659.html"><span>iOS MVVM+RAC 从框架到实战...</span></a></p></li><li class=""><span class="hide_comment">干得漂亮</span><br><p><span>Superior</span><span>评论了</span><a target="_blank" title="FB封杀中国App广告 国内的玩法到国外行不通了？" href="http://www.cocoachina.com/market/20170215/18696.html"><span>FB封杀中国App广告 国内的玩法到国外行不通了？...</span></a></p></li><li class="noborder-b"><span class="hide_comment">MARK</span><br><p><span>瞅谁谁眼熟</span><span>评论了</span><a target="_blank" title="iOS超全开源框架、项目和学习资料汇总--数据库、缓存处理、图像浏览、摄像照相视频音频篇" href="http://www.cocoachina.com/ios/20170215/18692.html"><span>iOS超全开源框架、项目和学习资料汇总--数据库、...</span></a></p></li></ul>
                </div>
                <!--./综合评论-->
                <!--相关帖子-->
                <div class="part-wrap clearfix" style="margin:15px 0 15px 0;">
                    <h3>相关帖子</h3>
                    <ul class="related-comment clearfix">
                        <script charset="gb2312" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/new.html"></script><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713269" target="_blank">第三方登录报错</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713268" target="_blank">有没有大神能提供一下微信群聊的那种九宫格头像的制作思路</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713266" target="_blank">给我个理性的回复</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713264" target="_blank">有人 等过苹果审核人员联系吗？需要等多久啊 都已经两天了</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713263" target="_blank">pdf编辑软件哪个好 怎样编辑pdf文件</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713262" target="_blank">关于Cocos2dx2.2.6中SimpleAudioEngine的问题</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713261" target="_blank">江湖救急，大家进来看看这个功能</a></li><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1713260" target="_blank">审核被拒，求救！！！！！！！</a></li><li class="clearfix noborder-b"><a href="http://www.cocoachina.com/bbs/read.php?tid=1713259" target="_blank">OpenCV报错，Bad input roi in function cvInitImageHeader</a></li>
                    </ul>
                </div>
                <!--./相关帖子-->
                <iframe class="share_self" scrolling="no" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/index.html" height="550" frameborder="0" width="230"></iframe>
                <script async="" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/adsbygoogle.js"></script>
                <!-- CC列表页面230x230 -->
                <ins class="adsbygoogle" style="display:inline-block;width:230px;height:230px" data-ad-client="ca-pub-1180518835303646" data-ad-slot="6765277166" data-adsbygoogle-status="done"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:230px;margin:0;padding:0;position:relative;visibility:visible;width:230px;background-color:transparent"><ins id="aswift_3_anchor" style="display:block;border:none;height:230px;margin:0;padding:0;position:relative;visibility:visible;width:230px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;" height="230" frameborder="0" width="230"></iframe></ins></ins></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--./侧边栏-->
    </div>

    <div id="coco-store" style="display:none">
        <div class="storebox">
            <h5>提示</h5>
            <h3>已经收藏该篇文章</h3>
            <p class="p1"><a href="http://www.cocoachina.com/bbs/u.php?action=favor&amp;tag=1" target="_blank">去我的收藏夹</a></p>
            <p class="p2"><a href="http://www.cocoachina.com/bbs/login.php">请登录</a></p>
        </div>
    </div> <!--收藏提示-->
</div>

<script type="text/javascript">

function postDigg(ftype,aid)
{
    var taget_obj = document.getElementById('newdigg');
    var saveid = GetCookie('diggid');
    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==aid && hasid) continue;
            else {
                if(saveids[i]==aid && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }
        if(hasid) { alert("您已经顶过该帖，请不要重复顶帖 ！"); return; }
        else saveid += ','+aid;
        SetCookie('diggid',saveid,1);
    }
    else
    {
        SetCookie('diggid',aid,1);
    }
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    var url = "/cms/plus/digg_ajax.php?action="+ftype+"&id="+aid;
    myajax.SendGet2(url);
    DedeXHTTP = null;
    $('#zanbox').addClass('zanbox-selected');
}
function getDigg(aid)
{
    var taget_obj = document.getElementById('newdigg');
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    myajax.SendGet2("/cms/plus/digg_ajax.php?id="+aid);
    DedeXHTTP = null;
}


//显示对应的导航：
$(function(){
    var article_id = $('#article_id').val();
    var saveid = GetCookie('diggid');

    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==article_id && hasid) continue;
            else {
                if(saveids[i]==article_id && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }

        if(hasid)
        {
            $('#zanbox').addClass('zanbox-selected');
        }

    }

});

window.onload = function() {

    $('#sharediv').removeClass('bdshare-button-style1-32');
    $('#sharediv').attr('class','bdsharebuttonbox');
};
</script>
<script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/shCore.js"></script>
    <script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/brush.js"></script>
    <link type="text/css" rel="stylesheet" href="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/shCoreDefault.css">
    <script type="text/javascript">
    //SyntaxHighlighter.config.clipboardSwf = '/js/scripts/clipboard.swf';

    SyntaxHighlighter.all();</script>


<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"Swift3.0 闭包整理 - 来自CocoaChina苹果开发中文站@CocoaChina","bdMini":"2","bdMiniList":false,"bdPic":"http://api.cocoachina.com/uploads/161201/eaacdef7a98934449c760b7f4c08f937.png","bdStyle":"1","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api//js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!--./cont-->

<!-- 回复评论框模板 -->
<script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/comment.js"></script>
<script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/mustache.js"></script>
<!-- 回复评论框模板 -->
<script id="reply_comment_template" type="x-tmpl-mustache">
    <div id="sub-reply-comment" class="reply-comment">
        <textarea name="subcomment" id="sub-reply-txt" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
        <input type="hidden" id="sub-reply-id" value="{{commentid}}" />
        <input type="hidden" id="sub-reply-userid" value="{{parentuserid}}" />
        <input type="hidden" id="sub-reply-username" value="{{parentusername}}" />
        <a type="button" id="sub_comment_bt" class="submitbt">提交</a>
        <div class="clearfloat"></div>
        <div class="unlogin-mask">
            <div>您还没有登录！请<a href="/bbs/login.php">登录</a>或<a href="/bbs/register.php">注册</a></div>
        </div>
    </div>
</script>

<!-- 评论模板 -->
<script id="main_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="1">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content">{{&content}}</div>
            <div class="comment-buttons">
                <span class="ding">                    
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>
        </div>
            {{#sub}}
                <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
                    <div class="comment-left">
                        <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
                    </div>
                    <div class="comment-right">
                        <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
                        <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{&content}}</div>
                        <div class="comment-buttons">
                            <span class="ding">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                                <span class="zancnt">{{support}}</span>
                            </span>
                            <span class="cai">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                                <span class="zancnt">{{report}}</span>
                            </span>
                            <span class="replybt">回复</span>
                        </div>          
                    </div>
                </div>
            {{/sub}}         
    </div>  
</script>


<script id="sub_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{&content}}</div>
            <div class="comment-buttons">
                <span class="ding">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>          
        </div>
    </div>
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68948817-1', 'auto', {'name': 'newTracker'});
  ga('newTracker.send', 'pageview');

</script>
    
<!--右侧浮动-->
    <div class="r-bar" style="position: fixed; top: inherit; bottom: 10px;">
        <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/coco_weixin.png" class="weixin">
    	<a href="http://weibo.com/cocoachina" target="_blank" title="" class="weibo">sina</a>
        <a href="javascript:void(0);" target="_blank" title="" class="feedback">weixin</a>
        <a href="mailto:support@cocoachina.com" title="" class="kefu">mail</a>
        <a href="javascript:;" title="回到顶部" class="returntop" style="display: inline;">回到顶部</a>
    </div>

<script language="javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/bbsauth_plus2015.html" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
    if (typeof(_user_info_html) != 'undefined' && _user_info_html)
    {
        $('.nav-user-login').hide();
        $('.nav-user-name').html(_user_info_html).show();
    }

	var type = $('#type_name').html();
	if(type)
	{	
		switch( type )
		{
			case 'iOS开发':
				$('#ios').addClass('light');
				break;
			case 'AppStore研究':
				$('#app_store').addClass('light');
				break;
			case 'Mac开发':
				$('#mac').addClass('light');
				break;
			case '产品设计':
				$('#design').addClass('light');
				break;
			case 'Cocos引擎':
				$('#cocos').addClass('light');
				break;
			case 'WebApp':
				$('#webapp').addClass('light');
				break;
			case 'Swift':
				$('#swift').addClass('light');
				break;
			case '游戏开发':
				$('#game').addClass('light');
				break;
			case '苹果相关':
				$('#apple').addClass('light');
				break;
			case '营销推广':
				$('#market').addClass('light');
				break;		
			case '业界动态':
				$('#industry').addClass('light');
				break;	
			case '程序人生':
				$('#programmer').addClass('light');
				break;																																
				
		}
	}
});
</script>
<!--./cont-->
<script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/index.js"></script>
<script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/jquery_002.js" type="text/javascript"></script>
<script src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/script.js" type="text/javascript"></script>
<script type="text/javascript">
			jQuery(function()
			{
				//更改文章来源
				var source = $('#source a').html();								
				if( source == '未知' )
					jQuery('#source a').html('CocoaChina');
				if( jQuery('#source a').attr('href')=='')
					jQuery('#source').html('来源：'+source);
				
				//获取用户登录的id
//                var content = jQuery('.t-lid').attr("href");
//                var uid = 0;
//                if( content )
//                {
//                    content = content.split('=');
//                    uid = content[1];
//                }
//                var timestamp = new Date().getTime();	
//                var uid2 = parseInt(uid);
//                if(uid2==uid && uid2!=0){
//                    uid = uid<<2;			
//                    uid = uid+''+timestamp;
//                }else{
//                    uid = "";
//                }
//                var oIframe=document.getElementById("comiframe");
//                if(oIframe){
//                    var oUrl=window.location.href;
//                    oUrl = encodeURIComponent(oUrl);
//
//                    oIframe.src="/comment.php?url="+oUrl+"&uid="+uid;
//                }

				
			});
		</script>
<!--footer-->
<div class="footer clearfix">
    <div class="footer-b">
        <div>
            <a href="http://www.cocoachina.com/aboutus/index.html" target="_blank">关于我们</a>
            <a href="http://www.cocoachina.com/contactus/index.html" target="_blank">商务合作</a>
            <a href="mailto:support@cocoachina.com" target="_blank">联系我们</a>
            <a href="http://www.cocoachina.com/corps" target="_blank">合作伙伴</a>
        </div>
        <p class="footer-b-p">北京触控科技有限公司版权所有</p>
        <p>
            ©2016 Chukong Technologies,Inc.
            <i>
                <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备 11006519号 　京ICP证 100954号</a> 京公网安备11010502020289 
                <a href="http://182.131.21.137/ccnt-apply/admin/business/preview/business-preview%21lookUrlRFID.action?main_id=A580B24B1AE846CE9DA949026D63939F" target="_blank">
                    <img src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/jingwen.png" style="margin: -10px auto -14px -10px;">
                    京网文[2012]0426-138号
                </a>
            </i>
        </p>
    </div>
</div>
<!--./footer-->
<script language="javascript" type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/dedeajax2-min.js"></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?88399e4c4cf744609c4fc8c3a8935691";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-16940817-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  
 
function search_check()
{
	var search_keyword = $('#search_keyword').val();

	if( search_keyword.length < 2 )
	{
		alert("搜索关键字不能少于2个字节，请重新输入。");
	}
	else
	{
		$('#searchform').submit();
	}
}

</script>
<span style="overflow: visible; position: fixed; display: block; width: 0px; height: 0px; background: transparent none repeat scroll 0% 0%; border: 0px none; text-align: left; z-index: 2147483647; left: 1231px; top: 712px;"><span style="overflow: auto; position: absolute; display: block; width: 0px; height: 0px; background: transparent none repeat scroll 0% 0%; border: 0px none; text-align: left;"><span style="overflow: hidden; position: absolute; display: block; width: 0px; height: 0px; background: transparent none repeat scroll 0% 0%; border: 0px none; text-align: left;"><embed id="ac_cs_116313_1" name="ac_cs_116313_1" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/afp_0614.swf" type="application/x-shockwave-flash" allowscriptaccess="always" wmode="opaque" menu="false" flashvars="cfg=%3Ccf%20tn%3D%22ac_info_ware.tag_116313%22%20mv%3D%22http%3A%2F%2Fafp.alicdn.com%2Fafp-creative%2Fcreative%2Fu116831150%2F9973e1023a1cf57eaa1c53f0e4442ac2.gif%22%20si%3D%22http%3A%2F%2Fs.csbew.com%2Fafp-creative%2Fskin%2Fafp_skin_tr.swf%22%20%20vi%3D%221%22%20sp%3D%221%22%20cu%3D%22http%3A%2F%2Fafptrack.csbew.com%2Fclk%3Fbid%3D0bb48d9b000058a3d1532b9d0e028e61%26pid%3Dmm_116831150_14568499_57530486%26cid%3D176846%26mid%3D154155%26oid%3D10806%26productType%3D1%26qytInfoMTime%3D1487085126%26e%3DcZFaByFPO5vL3IkfTk3f2qLIarKqwDDxY6rJ5hE4RLhsfC8SeR1MfrMrIF%252ByKqgLhOVjlenJjAkxdPHPbjjsGO6KQXgA5T8qMKrc5VUk6qw%253D%26k%3D109%22%20hm%3D%220%22%20he%3D%222%22%20sm%3D%22-2%22%20da%3D%220%22%20iv%3D%2250%22%20lt%3D%221%22%20cb%3D%221%2C0%2C0%2C0%2C0%22%20cx%3D%221%22%20tu%3D%22%22%20icon_position%3D%22left%2Ctop%22%20icon_size%3D%220%2C0%22%20icon_fileurl%3D%22%22%20icon_clickurl%3D%22%22%20%20ve%3D%22%22%20pt%3D%2260%22%20cd%3D%220%22%20%2F%3E" height="0" width="0"></span></span></span><ins style="display: none;" id="ac_js86_116313"></ins><script type="text/javascript">
_acK({aid:116313,format:0,mode:1,gid:1,serverbaseurl:"afp.csbew.com/"});
</script><script type="text/javascript">
ac_as_id = 116313;
window.afp_cur_query="pv=1&sp=116313,1,0,0,0,1,1,22&ec=UTF-8&re=1440,900&jsv=7&cb=804565161&seq=1&fs=10";ac_format = 0;
ac_mode = 1;
window.__trans__116313 = true;
ac_group_id = 1;
ac_server_base_url = "afpeng.csbew.com/";
</script>
<script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/k.js"></script><script></script><script type="text/javascript" src="Swift3.0%20%E9%97%AD%E5%8C%85%E6%95%B4%E7%90%86%20-%20CocoaChina_%E8%AE%A9%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9B%B4%E7%AE%80%E5%8D%95_files/ex.js" id="ac_js86_$4402447309"></script>




<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxLoadedContent" style="width: 0px; height: 0px; overflow: hidden; float: left;"></div><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><div id="cboxNext" style="float: left;"></div><div id="cboxPrevious" style="float: left;"></div><div id="cboxSlideshow" style="float: left;"></div><div id="cboxClose" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div></body></html>